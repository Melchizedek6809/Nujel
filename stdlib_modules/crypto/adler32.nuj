[export hash [defn hash [data]
                   [def a 1]
                   [def b 0]
                   [dotimes [i [string/length data]]
                            [set! a [mod/int [add/int a [char-at data i]] 65521]]
                            [set! b [mod/int [add/int a b] 65521]]]
                   [bit-or a [bit-shift-left b 16]]]]
